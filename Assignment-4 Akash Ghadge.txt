--select * from emp--1. Write a SQL query using the WITH clause to find the employees who have a higher salary than the average salary of their respective department.--with dept_avg_salary as ( select deptno, avg(sal) as avg_salary from emp group by deptno )--select emp.* --from emp --join dept_avg_salary on emp.deptno = dept_avg_salary.deptno--where emp.sal > dept_avg_salary.avg_salary;--2.Use the WITH clause write a query to find the departments that have the highest average salary.--with avg_salaries as ( select deptno, avg(sal) as avg_salary from emp group by deptno )--select dname from dept --inner join avg_salaries on dept.deptno = avg_salaries.deptno--where avg_salaries.avg_salary = ( select max(avg_salary ) from avg_salaries );--3. Find the employees who have the same job title as their manager using With clause.--with emp_mgr as ( select e1.empno, e1.job, e2.job as manager_job_title from emp e1 inner join emp e2 on e1.mgr = e2.empno)--select empno, job--from emp_mgr where job = manager_job_title;--4. Find the departments with the highest number of employees who earn a commission.--select top 5 deptno, count(*) as commemp from emp--where comm > 0--group by deptno--order by count(*) desc